<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>터틀맨 타운 - 물타기 계산기</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="logo">🐢</span>
                <span class="brand-name">터틀맨 타운</span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="welcome-section">
            <h1>환영합니다! 👋</h1>
            <p>주식 평균 매수 단가를 쉽고 빠르게 계산하세요</p>
        </div>

        <div class="calculator-card">
            <div class="mode-toggle">
                <button class="mode-btn active" data-mode="forward">평단가 계산</button>
                <button class="mode-btn" data-mode="reverse">목표 평단가 역산</button>
            </div>

            <!-- 평단가 계산 모드 -->
            <div id="forwardMode" class="calc-mode">
                <h2>물타기 계산기</h2>
                <p class="description">기존 보유 주식과 추가 매수 시 평균 단가를 계산합니다</p>

                <form class="calc-form" id="forwardForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>기존 매수 단가 (원)</label>
                            <input type="number" id="fOldPrice" placeholder="10000" required>
                        </div>
                        <div class="form-group">
                            <label>기존 보유 수량 (주)</label>
                            <input type="number" id="fOldQuantity" placeholder="100" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>추가 매수 단가 (원)</label>
                            <input type="number" id="fNewPrice" placeholder="8000" required>
                        </div>
                        <div class="form-group">
                            <label>추가 매수 수량 (주)</label>
                            <input type="number" id="fNewQuantity" placeholder="50" required>
                        </div>
                    </div>

                    <button type="submit" class="calc-button">계산하기</button>
                </form>
            </div>

            <!-- 목표 평단가 역산 모드 -->
            <div id="reverseMode" class="calc-mode" style="display: none;">
                <h2>목표 평단가 역산</h2>
                <p class="description">목표 평단가를 달성하기 위한 추가 매수량을 계산합니다</p>

                <form class="calc-form" id="reverseForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>현재 평단가 (원)</label>
                            <input type="number" id="rCurrentAvg" placeholder="10000" required>
                        </div>
                        <div class="form-group">
                            <label>현재 보유 수량 (주)</label>
                            <input type="number" id="rCurrentQuantity" placeholder="100" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>목표 평단가 (원)</label>
                            <input type="number" id="rTargetAvg" placeholder="9000" required>
                        </div>
                        <div class="form-group">
                            <label>추가 매수 단가 (원)</label>
                            <input type="number" id="rBuyPrice" placeholder="8000" required>
                        </div>
                    </div>

                    <button type="submit" class="calc-button">계산하기</button>
                </form>
            </div>

            <div class="result-section" id="resultSection" style="display: none;">
                <h3>계산 결과</h3>
                <div class="result-grid">
                    <div class="result-item">
                        <span class="result-label">평균 매수 단가</span>
                        <span class="result-value" id="avgPrice">0원</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">총 보유 수량</span>
                        <span class="result-value" id="totalQuantity">0주</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">총 투자 금액</span>
                        <span class="result-value" id="totalAmount">0원</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/main.js"></script>
</body>
</html>
